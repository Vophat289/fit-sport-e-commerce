<!-- Loading -->
<div *ngIf="loading" class="loading-overlay">
  <div class="spinner"></div>
  <span>Đang tải bài viết...</span>
</div>

<!-- Nội dung bài viết -->
<div *ngIf="!loading && article; else notFound" class="news-container">
  <div class="news-content">

    <!-- Breadcrumb -->
    <nav class="breadcrumb">
      <a routerLink="/">Trang chủ</a>
      <span>›</span>
      <a routerLink="/news">Tin tức</a>
      <span>›</span>
      <span class="current">{{ article.title }}</span>
    </nav>

    <!-- Tiêu đề -->
    <h1 class="news-title">{{ article.title }}</h1>

    <!-- Meta info -->
    <div class="news-meta">
      <span class="author">{{ article.author || 'Admin' }}</span>
      <span class="separator">•</span>
      <span class="date">{{ article.createdAt | date:'HH:mm, dd/MM/yyyy' }}</span>
    </div>

    <!-- Sapo -->
    <div class="sapo" *ngIf="article.short_desc">
      {{ article.short_desc }}
    </div>

    <!-- Ảnh đại diện -->
    <figure class="news-figure">
      <img [src]="getThumbnailUrl()" [alt]="article.title" class="news-img" (error)="handleImageError($event)">
    </figure>

    <!-- Nội dung -->
    <div class="news-body" [innerHTML]="article.content"></div>

    <!-- Tags -->
    <!-- Tags -->
    <div class="related-tags" *ngIf="tags.length">
      <strong>Tags:</strong>
      <a *ngFor="let tag of tags" [routerLink]="['/news']" [queryParams]="{ tag: tag }" class="tag-pill">
        #{{ tag }}
      </a>
    </div>

    <!-- Nút hành động (Removed as requested) -->
    <!-- <div class="actions">...</div> -->

  </div>
</div>

<!-- 404 -->
<ng-template #notFound>
  <div class="not-found">
    <h2>Không tìm thấy bài viết</h2>
    <p>Bài viết bạn đang tìm kiếm không tồn tại hoặc đã bị xóa.</p>
    <a routerLink="/" class="btn-primary">Quay về Trang chủ</a>
  </div>
</ng-template>