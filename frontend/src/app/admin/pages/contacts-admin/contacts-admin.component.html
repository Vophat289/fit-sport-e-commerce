<div class="contact-admin">
  <div class="page-header">
    <div>
      <p class="sub-title">Liên hệ</p>
      <h2 class="page-title">Quản lý liên hệ</h2>
    </div>

    <div class="header-actions">
      <!-- Search -->
      <div class="search-box">
        <i class="bx bx-search"></i>
        <input
          type="text"
          placeholder="Tìm kiếm liên hệ..."
          [(ngModel)]="search"
          (input)="onSearch()"
        />
      </div>

      <!-- Add Contact Button -->
      <button class="btn btn-primary" (click)="openCreateForm()">
        <i class="bx bx-plus"></i>
        Thêm liên hệ
      </button>
    </div>
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="loading">
    <i class="bx bx-loader bx-spin"></i> Đang tải dữ liệu...
  </div>

  <!-- Error -->
  <div *ngIf="errorMsg" class="alert error">
    <i class="bx bx-error-circle"></i>
    {{ errorMsg }}
  </div>

  <!-- Table -->
  <div class="table-container" *ngIf="!loading && contacts.length > 0">
    <table>
      <thead>
        <tr>
          <th>Họ tên</th>
          <th>Email</th>
          <th>Số điện thoại</th>
          <th>Nội dung</th>
          <th>Ngày tạo</th>
          <th>Hành động</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let c of contacts">
          <td>{{ c.fullName }}</td>
          <td>{{ c.email }}</td>
          <td>{{ c.phone }}</td>
          <td>{{ c.content }}</td>
          <td>{{ c.createdAt | date : 'dd/MM/yyyy HH:mm' }}</td>

          <td>
            <div class="actions">
              <button class="btn icon danger" (click)="deleteContact(c._id)">
                <i class="bx bx-trash"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Empty -->
  <div class="empty" *ngIf="!loading && contacts.length === 0">
    <i class="bx bx-info-circle"></i>
    <p>Không có dữ liệu</p>
  </div>

  <!-- Pagination -->
  <div class="pagination" *ngIf="contacts.length > 0">
    <button class="page-btn" (click)="prevPage()" [disabled]="page === 1">
      Trước
    </button>

    <button class="page-btn active" disabled>
      {{ page }} / {{ totalPages }}
    </button>

    <button class="page-btn" (click)="nextPage()" [disabled]="page === totalPages">
      Sau
    </button>
  </div>

</div>
