<div class="voucher-page">

  <div class="voucher-left">

    <div class="filter-tabs">
      <button (click)="applyFilter('all')" [class.active]="activeFilter === 'all'">Tất cả</button>
      <button (click)="applyFilter('valid')" [class.active]="activeFilter === 'valid'">Còn hạn</button>
      <button (click)="applyFilter('expiring')" [class.active]="activeFilter === 'expiring'">Sắp hết hạn</button>
      <button (click)="applyFilter('expired')" [class.active]="activeFilter === 'expired'">Hết hạn</button>
    </div>

    <div class="voucher-list">
      <div class="voucher-card" *ngFor="let v of filteredVouchers">
        
        <div class="voucher-info">
          <h3>{{ v.code }}</h3>
          <p *ngIf="v.type === 'percent'">Giảm {{ v.value }}%</p>
          <p *ngIf="v.type === 'fixed'">Giảm {{ v.value | currency:'VND' }}</p>
          <p>Đơn tối thiểu: {{ v.min_order_value | currency:'VND' }}</p>

          <span class="date">
            HSD: {{ v.end_date | date:'dd/MM/yyyy' }}
          </span>
        </div>

        <button class="copy-btn" (click)="copyCode(v.code)">Sao chép</button>
      </div>
    </div>

    <div class="load-more" *ngIf="hasMore">
      <button (click)="loadMore()" [disabled]="loading">
        {{ loading ? 'Đang tải...' : 'Xem thêm' }}
      </button>
    </div>
  </div>
</div>
